/*
 * Mermaid 图表样式 - 精确覆盖，不影响普通代码块
 * 保持 monokai 黑色代码块主题，只让 mermaid 图表有白色背景
 */

/* Mermaid 容器基础样式 */
.mermaid {
  text-align: center !important;
  margin: 2rem auto !important;
  padding: 1.5rem !important;
  background: #ffffff !important;
  border-radius: 8px !important;
  max-width: 95% !important;
  overflow: visible !important;
  box-shadow: 0 2px 12px rgba(0,0,0,0.08) !important;
}

/* === 关键：覆盖 chroma/monokai 代码块的样式 === */

/* 针对 language-mermaid 的代码块 */
.chroma.language-mermaid,
.highlight.language-mermaid,
pre > code.language-mermaid {
  background: #ffffff !important;
  border: none !important;
  padding: 1.5rem !important;
  border-radius: 8px !important;
}

/* 覆盖 mermaid 容器及��所有子元素的背景 */
.mermaid,
.mermaid *,
.mermaid > *,
.mermaid svg,
.mermaid svg > *,
.mermaid g,
.mermaid g > *,
.mermaid text,
.mermaid path,
.mermaid rect,
.mermaid circle,
.mermaid ellipse,
.mermaid polygon,
.mermaid line {
  background: transparent !important;
  background-color: transparent !important;
}

/* subgraph (cluster) 背景设置为浅灰 */
.mermaid .cluster rect {
  fill: #fafafa !important;
  stroke: #e0e0e0 !important;
  stroke-width: 1px !important;
}

/* 确保 SVG 图表居中 */
.mermaid svg {
  display: block !important;
  margin: 0 auto !important;
}

/* === 特殊处理：被 chroma 包裹的 mermaid === */

/* 如果 mermaid 在 chroma 容器内，重置样式 */
.chroma .mermaid,
.highlight .mermaid,
.chroma > .mermaid,
.highlight > .mermaid {
  background: #ffffff !important;
  padding: 1.5rem !important;
  margin: 2rem auto !important;
  border: none !important;
  border-radius: 8px !important;
  box-shadow: 0 2px 12px rgba(0,0,0,0.08) !important;
}

/* 确保 chroma 内的 mermaid 所有元素背景透明 */
.chroma .mermaid *,
.highlight .mermaid * {
  background: transparent !important;
  background-color: transparent !important;
}

