# 技术博客文章写作与发布

## 技能描述

本技能用于在博客项目中创建高质量的技术文章并自动发布。

## 触发条件

当用户请求满足以下条件时触发：
1. 要求写一篇技术文章/博客文章
2. 文章面向懂微积分和线性代数的读者
3. 要求"娓娓道来"的叙事风格
4. 需要纽约客风格的配图
5. 写完后需要发布（执行 deploy.sh）

## 典型触发短语示例

- "写一篇关于XXX的技术文章"
- "给一个懂点微积分和线性代数的人讲XXX"
- "写一篇文章，要求娓娓道来"
- "配个纽约客风格的配图"
- "写完后执行 deploy.sh 发布"

## 执行流程

### 1. 文章规划

- **理解主题**：明确文章要讲解的核心概念
- **评估难度**：确保内容适合懂微积分和线性代数的读者
- **制定大纲**：
  - 引言：从直观例子或历史背景开始
  - 核心概念：循序渐进地介绍
  - 具体应用：给出实际案例
  - 总结：回顾核心要点

### 2. 文章撰写

**风格要求**：
- 娓娓道来：像讲故事一样，从简单到复杂
- 循序渐进：每一步都自然地引出下一步
- 物理直觉：用具体的例子和类比说明抽象概念
- 数学严谨：公式推导清晰，步骤完整

**内容要求**：
- 从零开始：假设读者有微积分和线性代数基础，但不熟悉该主题
- 历史背景：介绍重要概念的历史和发现者
- 核心定义：给出精确的数学定义
- 几何直观：用图形和例子解释
- 具体计算：给出完整的计算示例
- 实际应用：说明该概念在哪些领域有应用

**章节结构建议**：
1. 引言：用生动的例子引入主题
2. 第一章：预备知识（如需要）
3. 第二章：核心概念的引入
4. 第三章：具体计算或应用
4. 第四章：进阶内容或扩展
5. 结语：总结和展望

### 3. 配图

**图片要求**：
- 从 Unsplash 下载高质量的抽象/几何图片
- 风格：纽约客风格（简洁、艺术感、黑白或淡色调）
- 保存位置：`static/images/covers/`
- 命名规范：`[Unsplash photo ID].jpg`

**下载步骤**：
1. 选择合适的 Unsplash 图片 URL
2. 使用 curl 下载到 `static/images/covers/`
3. 检查文件大小（确保 > 10KB，避免下载失败）

### 4. 创建文章文件

**文件位置**：`content/posts/YYYY-MM-DD-[slug].md`

**Front Matter 格式**：
```yaml
---
title: "文章标题"
date: YYYY-MM-DDTHH:mm:ss+08:00
draft: false
description: "文章简介，1-2句话概括"
categories: ["分类1", "分类2"]
tags: ["标签1", "标签2", "标签3"]
cover:
    image: "images/covers/[图片文件名].jpg"
    alt: "图片描述"
    caption: "图片标题"
---
```

**命名规范**：
- 日期使用当前日期
- slug 使用英文，用连字符分隔
- 示例：`2026-01-13-christoffel-symbols-guide.md`

### 5. 数学公式

**使用 LaTeX 语法**：
- 行内公式：`$公式$`
- 独立公式：`$$公式$$`

**常见公式示例**：
- 偏导数：`\frac{\partial f}{\partial x}`
- 矩阵：`\begin{pmatrix} a & b \\ c & d \end{pmatrix}`
- 积分：`\int_a^b f(x) dx`
- 希腊字母：`\alpha`, `\beta`, `\Gamma`, `\theta`

### 6. 发布流程

**步骤**：
1. 下载图片（如果还没有）：
   ```bash
   curl -sL "[Unsplash URL]" -o static/images/covers/[filename].jpg --max-time 30 --retry 3
   ```

2. 提交更改：
   ```bash
   git add content/posts/[文章文件].md static/images/covers/[图片文件].jpg
   git commit -m "Add [文章标题]"
   git push origin main
   ```

3. 执行部署脚本：
   ```bash
   bash deploy.sh
   ```

**验证**：
- 确认文章文件已创建
- 确认图片文件已下载且大小正常（>10KB）
- 确认 git 提交成功
- 确认 deploy.sh 执行成功
- 提供博客地址：https://s-ai-unix.github.io/blog/

## 注意事项

### 图片处理
- Unsplash 图片可能失效，下载后必须检查文件大小
- 如果下载失败，使用现有的图片替代
- 不要在文章中使用外链图片（必须下载到本地）

### Git 操作
- 每次部署前先 git pull 确保同步
- 提交信息要清晰
- 如果 deploy.sh 失败，检查 Hugo 构建输出

### 内容质量
- 确保公式正确（特别是 LaTeX 语法）
- 避免过于简略的推导
- 提供具体的数值例子
- 在关键概念处给出几何直观

### 常见错误

**错误1：图片 404**
- 症状：文件很小（<1KB）
- 解决：下载到本地或使用现有图片

**错误2：Hugo 构建失败**
- 症状：deploy.sh 报错
- 解决：检查 markdown 语法，特别是 YAML front matter

**错误3：数学公式不显示**
- 症状：公式显示为原始代码
- 解决：检查 LaTeX 语法，确保使用 `$$...$$` 或 `$...$`

## 成功标准

文章完成并发布后，应满足：
1. ✅ 文章内容完整，逻辑清晰
2. ✅ 数学公式正确渲染
3. ✅ 配图显示正常
4. ✅ 文章已提交到 git
5. ✅ deploy.sh 执行成功
6. ✅ 博客页面可以正常访问
