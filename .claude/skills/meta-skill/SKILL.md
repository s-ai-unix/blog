---
name: meta-skill
description: 元技能 - 对话复盘与技能进化。在对话结束后分析：已用技能是否可优化、未形成技能的流程是否值得沉淀。支持自更新功能，可自动将优化点更新到对应 skill。触发关键词：复盘、优化技能、沉淀经验、技能进化、/自我更新、/自我优化。
---

# Meta Skill - 元技能

## 概述

对话级别的元认知能力。复盘的核心价值是**提炼洞察**，不是罗列事实。

## 触发条件

**显式触发**
- `/meta-skill` - 当前对话复盘
- `/meta-skill review-all` - 技能体系复盘

**隐式触发**
- 复盘、回顾、总结这次对话
- 优化技能、升级技能、迭代技能
- 沉淀经验、提炼方法
- 这个流程可以复用吗
- 技能体系复盘、技能健康检查

## 核心原则

1. **洞察优先** - 复盘的价值是"学到了什么"，不是"做了什么"
2. **诚实评估** - 没有问题就说没有，不要为了输出而凑内容
3. **高标准沉淀** - 简单的流程不值得变成技能，宁缺毋滥
4. **灵活输出** - 根据实际情况调整，不是机械填模板

## 当前对话复盘

### Step 1: 提炼核心收获

回答一个问题：**这次对话最重要的收获是什么？**

- 解决了什么问题？
- 学到了什么新东西？
- 有什么可以复用的经验？

输出 2-3 句话的核心收获，不要罗列细节。

### Step 2: 提炼关键洞察

从对话中提炼**可迁移的认知**：

- 发现了什么规律？
- 踩了什么坑？
- 有什么原则值得记住？

只输出真正有价值的洞察，没有就不写。

### Step 3: 技能评估

**已用技能评估**：
- 表现良好 → 直接说"表现良好，无需优化"
- 有明显问题 → 具体说明问题和建议
- 需要深入评估时 → 参考 [references/evaluation-frameworks.md](references/evaluation-frameworks.md) 的检查清单

**新技能判断**：
- 问自己：这个流程真的值得变成技能吗？
- 简单的、一次性的、容易记住的 → 不值得
- 复杂的、会重复的、容易出错的 → 值得考虑
- 需要系统评估时 → 参考 [references/evaluation-frameworks.md](references/evaluation-frameworks.md) 的准入门槛

### Step 4: 待验证（可选）

如果有需要后续验证的假设，列出来。没有就不写。

### Step 5: 记录

如果有值得记录的内容，追加到 `~/.claude/skills/EVOLUTION.md`。
如果这次对话没有产生值得记录的进化，就不记录。

## 输出格式

**不要机械填模板。** 根据实际情况，只输出有价值的部分。

### 示例 1：有收获的对话

```markdown
# 对话复盘

## 核心收获
构建了技能进化系统的基础设施：非侵入式数据采集 + 两种复盘模式 + 进化日志。

## 关键洞察
1. 记录机制必须非侵入 - 不能要求修改所有技能
2. Claude 没有自动触发能力 - 需要用户主动或外部调度
3. 数据驱动 - 技能进化需要基于实际使用数据

## 技能评估
- skill-creator: 表现良好，无明显问题

## 待验证
- meta-skill 的隐式触发是否够灵敏？
```

### 示例 2：发现技能问题

```markdown
# 对话复盘

## 核心收获
完成了 XX 功能，但发现 YY 技能有优化空间。

## 技能评估

### YY 技能
- **问题**: 触发词不够口语化，用户说"帮我做个XX"时没有触发
- **建议**: 在 description 中补充常见口语表达
- **优先级**: 中
```

### 示例 3：建议新技能

```markdown
# 对话复盘

## 核心收获
完成了 XX 流程，这个流程值得沉淀。

## 新技能建议

### 建议创建: xxx-skill

**理由**:
- 这个流程会重复使用（预期每周 2-3 次）
- 步骤较多（5步），容易遗漏
- 有隐性知识（需要注意 YY 细节）

**草稿**: [简要描述或单独文件]

是否创建？
```

### 示例 4：简单对话

```markdown
# 对话复盘

## 核心收获
修复了 XX bug，原因是 YY。

## 技能评估
本次未使用技能。无新技能建议（修 bug 不需要沉淀为技能）。
```

### 示例 5：无收获的对话

```markdown
# 对话复盘

本次对话是简单的问答/操作，无需复盘。
```

## 技能体系复盘（review-all）

### 数据来源

```bash
python3 ~/.claude/evaluation/scripts/analyze_transcripts.py --days 30 --output markdown
```

### 输出要点

1. **使用统计** - 哪些技能在用，哪些没人用
2. **问题发现** - 技能冗余、使用率低、触发词不灵等
3. **优化建议** - 具体可执行的改进项
4. **优先级排序** - 先做什么，后做什么

不要输出空洞的表格，要有判断和建议。

## 参考资料

- [references/evaluation-frameworks.md](references/evaluation-frameworks.md) - 详细的评估清单、准入门槛、失败归因分类、技能结构规范

## 注意事项

1. **不要过度沉淀** - 简单流程不值得变成技能
2. **诚实评估** - 没问题就说没问题
3. **洞察优先** - 复盘是为了学习，不是为了记录
4. **灵活输出** - 有话则长，无话则短
5. **渐进披露** - 日常复盘用简化流程，需要深入时再看 references
6. **白名单限制** - 只能更新白名单中的 skill，保护他人和第三方 skill

## 技能自更新 (Auto-Update)

### 触发条件

**显式触发**
- `/自我更新` - 分析并优化最近使用的技能
- `/自我优化` - 同上，别名

**隐式触发**
- "这个技能可以改进"
- "优化一下刚才用的技能"
- "把这次的经验加到技能里"

### 可更新的技能白名单

**⚠️ 安全限制**：为了防止误修改他人或其他 skill，只有以下技能才允许自更新：

| 技能名称 | 说明 | 所有者 |
|---------|------|--------|
| `meta-skill` | 元技能本身 | 系统 |
| `universally-updated-skill` | 通用更新技能 | 系统 |
| `write-tech-blog` | 技术博客写作 | 用户 |
| `humanizer-zh` | 文本人性化处理 | 系统 |
| `tic-expert` | TIC 行业 AI 专家 | 用户 |
| `news-aggregator-skill` | 新闻聚合器 | 用户 |

**白名单规则**：
- ✅ **明确所有权**：只更新你创建的技能或明确标识为系统的技能
- ❌ **保护他人技能**：不在白名单中的 skill，只提供建议，不直接修改
- ⚠️ **谨慎更新**：即使是自己的技能，也要避免过度优化

**添加到白名单**：
如需将新技能加入白名单，在自更新功能中添加一行即可。格式：
```yaml
| `your-skill-name` | 技能描述 | 用户 |
```

### 自更新流程

当用户请求自更新时，执行以下步骤：

### 自更新流程

当用户请求自更新时，执行以下步骤：

#### Step 1: 识别最近使用的技能

**方法**：
- 搜索当前会话历史，找到最近显式调用的 skill
- 优先级：显式调用（如 `/news-aggregator-skill`）> 隐式触发（如描述触发）
- 确认 skill 路径：`~/.claude/skills/<skill-name>/`

**白名单检查**：
```python
# 检查是否在白名单中
ALLOWED_SKILLS = [
    'meta-skill',
    'universally-updated-skill',
    'write-tech-blog',
    'humanizer-zh',
    'tic-expert',
    'news-aggregator-skill'
]

if skill_name not in ALLOWED_SKILLS:
    print(f"⚠️ {skill_name} 不在白名单中")
    print("只能更新以下技能：")
    for s in ALLOWED_SKILLS:
        print(f"  - {s}")
    print("\n💡 建议：使用当前对话复盘功能，手动更新该技能")
    return  # 停止自动更新，转为手动提供建议
```

**输出**：
```
最近使用: <skill-name> (3 分钟前)
路径: ~/.claude/skills/<skill-name>/
✅ 白名单检查通过
```

#### Step 2: 分析对话历史，提取优化点

**分析维度**：

1. **使用问题识别**
   - 用户是否需要多次补充说明？
   - 是否有误解或执行错误？
   - 是否缺少重要功能？

2. **流程改进机会**
   - 是否有重复性操作可以自动化？
   - 是否有可以简化的步骤？
   - 是否有可以添加的默认选项？

3. **文档完善**
   - 描述是否清晰准确？
   - 示例是否充分？
   - 是否有新增的边界情况？

**方法**：
```python
# 搜索最近 100 条消息
# 识别 skill 使用上下文
# 提取用户反馈和问题
# 总结优化点
```

#### Step 3: 生成优化建议

基于分析结果，生成结构化的优化建议：

```markdown
## 技能优化建议: <skill-name>

### 发现的问题
1. **问题描述**: 具体说明
   - 影响: XXX
   - 频率: 常见/偶发

2. **问题描述**: 具体说明
   - 影响: XXX
   - 频率: 常见/偶发

### 优化建议
1. **优化类型**: 文档/功能/流程
   - **当前状态**: 描述现状
   - **建议方案**: 具体改进
   - **预期效果**: 改进后的好处

### 待更新内容
- **文件**: SKILL.md
- **位置**: 第 X 行 / 某章节
- **当前内容**: ...
- **建议更新**: ...
```

#### Step 4: 确认并执行更新

**确认机制**：
1. 展示优化建议给用户
2. 询问是否应用更新
3. 如果用户确认，执行以下操作：

**操作流程**：
```bash
# 1. 备份当前 SKILL.md
cp ~/.claude/skills/<skill-name>/SKILL.md ~/.claude/skills/<skill-name>/SKILL.md.backup

# 2. 读取并解析 SKILL.md
# 3. 应用更新（使用 Edit 工具）
# 4. 验证更新后的文件格式

# 5. 提交到本地 git
cd ~/.claude/skills/<skill-name>
git add SKILL.md
git commit -m "Auto-update: [优化内容摘要]"
```

**安全措施**：
- ✅ 只更新 SKILL.md 文件（不修改其他文件）
- ✅ 自动备份，可随时回滚
- ✅ 不 push 到远程（遵守 Git 策略）
- ✅ 更新前展示 diff 供确认

#### Step 5: 记录进化

如果进行了实质性更新，追加到 `~/.claude/skills/EVOLUTION.md`：

```markdown
## <date> - <skill-name> 自更新

**触发原因**: 用户反馈 / 主动优化

**优化内容**:
- [具体改进 1]
- [具体改进 2]

**效果**: [预期或实际效果]
```

### 执行示例

```markdown
## 技能优化建议: news-aggregator-skill

### 发现的问题
1. **问题描述**: 中文数据源数量不足
   - 影响: 无法全面了解国内热点
   - 频率: 每次使用都感觉信息不够

2. **问题描述**: 缺少数据验证功能
   - 影响: 无法快速确认数据完整性
   - 频率: 偶尔需要验证

### 优化建议
1. **优化类型**: 配置/功能
   - **当前状态**: 每源 5 条
   - **建议方案**: 中文源提升至 20 条/源
   - **预期效果**: 更全面的中文热点覆盖

2. **优化类型**: 新增功能
   - **当前状态**: 无验证工具
   - **建议方案**: 添加 verify_news_stats.py
   - **预期效果**: 快速验证数据分布

### 待更新内容
- **文件**: scripts/fetch_and_generate.sh
- **位置**: 源获取部分
- **当前内容**: 统一 limit=5
- **建议更新**: 中文源使用 limit=20
```

### 工具支持

**使用的工具**：
- `Read` - 读取 SKILL.md
- `Edit` - 更新 SKILL.md
- `Bash` - Git 操作和备份
- `Grep` - 搜索和分析
- `AskUserQuestion` - 确认更新

**限制条件**：
- 只更新 `SKILL.md` 文件
- 不修改其他代码或脚本（除非明确要求）
- 保持文档风格一致

### 注意事项

1. **不要过度优化**：不是每次使用都需要更新，只在有明显改进价值时才执行
2. **保持谦逊**：如果技能本身运行良好，就不要强行修改
3. **尊重原作者**：对于不属于你的 skill，优先提供建议而非直接修改
4. **可回滚**：所有更新都有备份，可随时恢复

